<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <title>Shopping Books</title>
  <link rel="stylesheet" th:href="@{/css/styles1.css}">
  <link rel="stylesheet" th:href="@{/css/styles3.css}">
</head>
<body>
<!-- Include Header -->
<th:block th:insert="fragments/header.html"></th:block>

<div class="container">
  <h2 class="page-title">Shopping Books page</h2>

  <!-- Shopping Cart Table -->
  <table class="book-table">
    <tr>
      <th>ISBN</th>
      <th>TITLE</th>
      <th>AUTHOR</th>
      <th>Price</th>
      <th>Add to Shopping Cart</th>
    </tr>
    <tr th:each="book : ${books}"> <!-- Loops through ALL books -->
      <td th:text="${book.isbn}"></td>
      <td th:text="${book.title}"></td>
      <td th:text="${book.author}"></td>
      <td th:text="${book.price}"></td>
      <td>
        <form action="/cart/add" method="post">
          <input type="hidden" name="isbn" th:value="${book.isbn}">
          <button type="submit" class="cart-link">Add to Cart</button>
        </form>
      </td>
    </tr>
  </table>

  <!-- âœ… Shopping Cart Summary (Cart Item Count) -->
  <h3 class="cart-summary-title">Number of Books in the Shopping Cart</h3>
  <p class="cart-count" th:text="${cartCount}"></p> <!-- Updated automatically on refresh -->

  <!-- Footer -->
  <footer>
    <p><em><strong>Bruno Barros</strong></em> </p>
    <p><small>ID: 991758456</small></p>
  </footer>
</div>
</body>
</html>




